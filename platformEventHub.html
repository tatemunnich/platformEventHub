<!-- 
Tool to view and subscribe to a platform event channel within the org.
Created by Tate Munnich
Code adapted from https://developer.salesforce.com/docs/component-library/bundle/lightning-emp-api/documentation
and https://salesforcecentral.com/viewing-platform-events-in-salesforce-using-a-lightning-web-component/
-->

<template>
  <lightning-card title="CDC/Platform Event Subscriber" icon-name="custom:custom14">
    <div class="slds-m-around_medium">
      <!-- Add Subscription Channel -->
      <div class="slds-p-top_small">
        <p>Add your streaming channel</p>
        <lightning-input label="Channel Name" value={channelName} onchange={handleChannelName} disabled={isSubscribeDisabled}>
        </lightning-input>
      </div>
      <div class="slds-p-top_small">
        <lightning-button variant="success" label="Subscribe" title="Subscribe" onclick={handleSubscribe}
          disabled={isSubscribeDisabled} class="slds-m-left_x-small">
        </lightning-button>
        <lightning-button variant="destructive" label="Unsubscribe" title="Unsubscribe" onclick={handleUnsubscribe}
          disabled={isUnsubscribeDisabled} class="slds-m-left_x-small">
      </lightning-button>
        <lightning-button variant="neutral" label="Clear" title="Clear" onclick={handleClear}
          class="slds-m-left_x-small">
        </lightning-button>
      </div>
    </div>
  </lightning-card>
  <!-- Output -->
  <div style="padding-top:10px;">
    <lightning-card>
      <pre>
        <code>
          {eventLog}
        </code>
      </pre>
    </lightning-card>
  </div>
</template>